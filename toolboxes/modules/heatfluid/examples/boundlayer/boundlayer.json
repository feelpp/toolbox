{
    "Name": "benchmark-boundarylayer",
    "ShortName":"boundlayer",
    "Models":
    {
        "use-model-name":1,
        "fluid": 
        {
            "equations": "Navier-Stokes"
        }
    },
    "Parameters":
    {
        "u_in":1,
        "T_in":293.15,
        "x_ini":1,
        "T_w":303.15,
        "rho":"1.0",
        "mu":"1.2e-3",
        "Cp":"1e3",
        "k":"0.5"
    },
    "Materials":
    {
         "S1":
            {
              "markers":["S1"],
              "physics":["fluid","heat"],
              "rho":"rho:rho",
              "mu":"mu:mu",
              "k":"k:k",
              "Cp":"Cp:Cp",
              "beta":"0.003660"
             }
    },
    "BoundaryConditions":
    {
        "velocity":
        {
            "Dirichlet":
            {
                "marker_inlet":
               {
                   "expr":"{u_in,0}:u_in"
               },
                "marker_H2":
                {
                    "expr" : "{0,0}"
                },
                "marker_wall":
                {
                    "expr": "{0,0}"
                }
                /*,
                
                "marker_top":
                {
                     "expr":"{u_in,0}:u_in"
                }*/
            } 
        },
        // not good it should be completed with no shear stress (eg slip)
        "velocity_y":
            {
                "Dirichlet":
                {
                    "marker_H1":
                    {
                        "expr":"0"
                    },
                    "marker_top":
                    {
                        "expr":"0"
                    }
                }
            },
            "fluid":
            {
                "outlet":
                {
                    /*"marker_outlet":
                    {
                         "expr":"0"
                    },
                    "marker_top":
                    {
                         "expr":"0"
                    }*/
                }
            }, 
            "pressure":
            {
                "Dirichlet":
                {
                    "marker_outlet":
                    {
                         "expr":"0"
                    }
                }
            }, 
        "temperature":
        {
            "Dirichlet":
            {
                "marker_inlet":
                {
                    "expr":"T_in:T_in"
                },
                
                "marker_H2":
                {
                    "expr":"T_in:T_in"
                    
                },
                
                "marker_top":
                {
                    "expr":"T_in:T_in"
                    
                },
                "marker_wall":
                {
                    "expr": "T_w:T_w"
                }
            },
            "Neumann_Scalar":
            {
                "marker_H1":
                {
                    "expr":"0"
                }
            }
            
        }
    },

    "InitialConditions":
    {
        "temperature":
        {
            "Expression":
            {
                "ic":
                {
                    "expr":"293.15"
                }
            }
        }
    },
    "PostProcess":
    {
        "use-model-name":"1",
        "heat-fluid":
        {
            "Exports":
            {
                "fields":["fluid.velocity","fluid.pressure","heat.temperature", "fluid.pid"]
            }
        }, 
        "fluid":{
        "Measures":
        {
            "Statistics":
            {
               "layer_thickness_num_%1%":
               {                    
                   "type":"integrate",
                       "expr":"0.5*(fluid_Uy/u_in*(1-(fluid_Uy/u_in))):fluid_Uy:u_in",
                       "markers":["marker_L%1%"],
                       "index1":["3:12"]
               },
               "layer_thickness_blasius_%1%":
               {
                       "type":"integrate", 
                       "expr":"0.5*5*1/sqrt(rho*u_in*x/mu):x:rho:mu:u_in",
                       "markers":["marker_L%1%"],
                       "index1":["3:12"]
               },/* no possible for now
               "friction_num_%1%":
               {
                   "expr":"2*mu*fluid_dyU/(rho*u_in*u_in):mu:fluid_Uy:rho:u_in",
                   "marker":["pt%1%"],
                   "index1":["1:14"]
               },*/
               "friction_blasius_%1%":
               {
                   "type":"mean",
                   "expr":"0.664*(rho*u_in*x/mu)^(-0.5):x:rho:u_in:mu",
                   "marker":["marker_L%1%"],
                   "index1":["3:12"]

               },
               "local_Nusselt_num_%1%":
               {
                    "type":"mean",
                   "expr":"heat_dyT*x/(T_w-T_in):heat_dyT:x:T_w:T_in",
                   "marker":["pt%1%"],
                   "index1":["1:14"]
               },
               "local_Nusselt_Pohlhausen_%1%":
               {
                   "type":"mean",
                   "expr":"0.332*(rho*u_in*x/mu)^0.5*(Cp*mu/k)^(1/3)*(1-(x_ini/x)^(3/4))^(-1/3):rho:u_in:x:mu:Cp:k:x_ini",
                   "marker":["marker_L%1%"],
                   "index1":["3:12"]
               }
            } // Statistics
        }
    },
    "heat":{}
    }    
}
