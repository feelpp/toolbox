// -*- mode: javascript -*-
{
    "Name": "Fluid Mechanics",
    "ShortName":"Fluid",
    "Metadata":
    {
        "version": "1",
        "author": ["vincentchabannes","prudhomm","lberti","jobinhio"],
        "date": "28/11/2022",
        "references":[""]
    },
    "Models":
    {
        "fluid":
        {
            "equations":"Navier-Stokes"
        }
    },
    "Meshes":
    {
        "heatfluid":
        {
          "Import":
          {
            "filename":"$cfgdir/cabin2d.geo",
            "hsize":"0.05"  // 0.03
          }
        }
    }, 
    // tag::params[]
    "Parameters":
    {
        "Uin":0.75,
        "Tin":15
    },
    // end::params[]
    // tag::fluid[]
    "Materials":
    {
        "Fluid":{
            "rho":"1.0",
            "mu":"5.0e-4",
            "k":"1.45e-2",
            "Cp":"1000",
            "beta":"0.003660" //0.00006900
        }
    },
    // end::fluid[]
    "BoundaryConditions":
    {
        // tag::bc-fluid[]
        "fluid":
        {
            "velocity":
            {
                "inlet" : {"expr":"{0,-Uin*(0.05-x)*(x+0.05)*400*(1-exp(-5*t))}:x:y:z:t:Uin"},
                "passengers" : {"expr":"{0,0}"},
                "walls" : {"expr":"{0,0}"}
            },
            "outlet":
            {
                "outlet1":
                {
                    "expr":"0"
                },
                "outlet2":
                {
                    "expr":"0"
                }

            }
        },
        // end::bc-fluid[]
        // tag::bc-t[]
        "heat":
        {
            "temperature":
            {
                "inlet" : {"expr":"20-(20-Tin)*(1-exp(-t)):t:Tin"}
                //"passengers" : {"expr":"20+15*(1-exp(-t)):t"}
            },
            "Neumann":
            {
                "passengers" : {"expr":"37.1e-3"}
            }
        }
        // end::bc-t[]
    },
    "InitialConditions":
    {
        "temperature":
        {
            "":
            {
                "":
                {
                    "expr":"20"
                }
            }
        }
    },
    // tag::exp[]
    "PostProcess":
    {
        // "use-model-name":1,
        "heatfluid":
        {
            "Exports":
            {
                "fields":["fluid.velocity","fluid.pressure","heat.temperature","fluid.pid"]
            },
            "fluid":
            {
            },
            "heat":
            {
            }
        }
    }

}
